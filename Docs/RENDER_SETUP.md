# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è –Ω–∞ Render.com

## –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞

–û—à–∏–±–∫–∞ `TelegramConflictError: terminated by other getUpdates request` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram.

## –ü—Ä–∏—á–∏–Ω—ã:

1. **–õ–æ–∫–∞–ª—å–Ω—ã–π –∏ –æ–±–ª–∞—á–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä—ã**: –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –ª–æ–∫–∞–ª—å–Ω–æ, –∏ –Ω–∞ Render
2. **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è**: Render –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
3. **–û—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã**: –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –æ—Å—Ç–∞–ª–∏—Å—å "–∑–æ–º–±–∏" –ø—Ä–æ—Ü–µ—Å—Å—ã

---

## ‚úÖ –†–µ—à–µ–Ω–∏—è:

### 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã

–í—ã–ø–æ–ª–Ω–∏ —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏:
```bash
python scripts/stop_local_bots.py
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Render –ø—Ä–∞–≤–∏–ª—å–Ω–æ

#### –í Dashboard Render:

1. **Settings > Build & Deploy**
   - Auto-Deploy: `Yes`
   - Branch: `main`
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `python scripts/init_cloud_db.py && python -m app.main combined`

2. **Settings > Environment**
   –£–±–µ–¥–∏—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   ```
   BOT_TOKEN=your_bot_token
   ADMIN_TG_ID=your_telegram_id
   ADMIN_PASSWORD=your_admin_password
   DATABASE_URL=postgresql://... (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç –ë–î)
   ```

3. **Advanced > Health Check Path**
   ```
   /health
   ```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub webhook (–¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è)

1. –í Dashboard Render ‚Üí Settings ‚Üí Connected Accounts
2. –ü–æ–¥–∫–ª—é—á–∏ GitHub –∞–∫–∫–∞—É–Ω—Ç –µ—Å–ª–∏ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω
3. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–µ—Ä–≤–∏—Å–∞ –≤—ã–±–µ—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `TalentedProger/AGU_Schedule`
4. Branch: `main`
5. Auto-Deploy: –≤–∫–ª—é—á–µ–Ω

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–û–±–Ω–æ–≤–∏ `render.yaml` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
```yaml
services:
  - type: web
    name: agu-schedulebot
    runtime: python
    repo: https://github.com/TalentedProger/AGU_Schedule
    branch: main
    autoDeploy: true
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

---

## üîß –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º:

### –ï—Å–ª–∏ –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å webhook –Ω–∞ GitHub:**
   - Repo Settings ‚Üí Webhooks
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å webhook –æ—Ç Render

2. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ Render:**
   - Dashboard ‚Üí Deploy tab
   - –ò—â–∏ –æ—à–∏–±–∫–∏ –≤ Build Logs

3. **–†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π:**
   - Manual Deploy ‚Üí Deploy Latest Commit

### –ï—Å–ª–∏ –±–æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å webhook –±–æ—Ç–∞:**
   ```bash
   curl https://api.telegram.org/bot<YOUR_TOKEN>/getWebhookInfo
   ```

2. **–£–¥–∞–ª–∏ webhook –µ—Å–ª–∏ –Ω—É–∂–Ω–æ:**
   ```bash
   curl https://api.telegram.org/bot<YOUR_TOKEN>/deleteWebhook
   ```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å –Ω–∞ Render:**
   - Dashboard ‚Üí Manual Deploy ‚Üí Clear build cache

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:

- [ ] –õ–æ–∫–∞–ª—å–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`scripts/stop_local_bots.py`)
- [ ] GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Render
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] `render.yaml` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] Auto-Deploy –≤–∫–ª—é—á–µ–Ω –¥–ª—è –≤–µ—Ç–∫–∏ `main`
- [ ] Health check –Ω–∞—Å—Ç—Ä–æ–µ–Ω (`/health`)

---

## üöÄ –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –¥–µ–ø–ª–æ—è:

1. –°–¥–µ–ª–∞–π –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –ª–æ–∫–∞–ª—å–Ω–æ
2. –ó–∞–∫–æ–º–º–∏—Ç—å –≤ git:
   ```bash
   git add .
   git commit -m "Your changes"
   git push origin main
   ```
3. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç
4. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å –≤ Dashboard ‚Üí Logs

---

## üÜò –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

1. **–û—Å—Ç–∞–Ω–æ–≤–∏ –≤—Å–µ:**
   ```bash
   python scripts/stop_local_bots.py
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –Ω–∞ Render:**
   - Dashboard ‚Üí Manual Deploy ‚Üí Deploy Latest

3. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:**
   - –ò—â–∏ –æ—à–∏–±–∫–∏ –≤ Render Logs
   - –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

4. **–û—Ç–∫–∞—Ç–∏—Å—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ:**
   - Deploy ‚Üí Previous Deploys ‚Üí Redeploy

---

**üí° –í–∞–∂–Ω–æ:** –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π –±–æ—Ç–∞ –õ–ò–ë–û –ª–æ–∫–∞–ª—å–Ω–æ, –õ–ò–ë–û –Ω–∞ –æ–±–ª–∞–∫–µ, –Ω–æ –Ω–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!